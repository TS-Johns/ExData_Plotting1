{
    "contents" : "## Author:  TS Johns\n## Date:    2014-06-08\n## About:   This is R script for Course Project 1, for the Exploratory Data Analysis course (part of John Hopkins - Data science Track)\n##          This script does not contain functions, but just a series of commands to create desired plot\n##          This script usues the base plotting package, as well as generating output in PNG file\n## Credits: This package was produced as a clone of the repo https://github.com/rdpeng/ExData_Plotting1\n\n## ----------------------------------- Step 01: Set Variables -----------------------------------\ndataFilePathName <- \"../Data/household_power_consumption.txt\"\n# Note: Date oiginally read in as character in d/m/yyyy format, using that format to isolate desired data\ndateStart <- \"1/2/2007\"\ndateEnd <- \"2/2/2007\"\n\nplotFileName <- \"plot4.png\"\n\n## ----------------------------------- Step 02: Load & Get Data to Plot -----------------------------------\n\nbaseData <- read.table(dataFilePathName, header = TRUE, sep=\";\", \n                       na.strings=\"?\", stringsAsFactors=FALSE, check.names=FALSE)\n#Note - Make sue to handle NAs appropriately since encoded as ? in file\n\nplotData <- baseData[baseData$Date == dateStart | baseData$Date == dateEnd,]   #Limit to desired dates - using OR and character equality not date ranges, since we only need data for 2 dates\n\n# Remove larger table from memory\nremove(baseData)\n\n# Format columns within plotData since many initially read in as numeric\nplotData$Global_active_power <- as.numeric(plotData$Global_active_power)\nplotData$Global_reactive_power <- as.numeric(plotData$Global_reactive_power)\nplotData$Global_intensity <- as.numeric(plotData$Global_intensity)\nplotData$Voltage <- as.numeric(plotData$Voltage)\nplotData$Sub_metering_1 <- as.numeric(plotData$Sub_metering_1)\nplotData$Sub_metering_2 <- as.numeric(plotData$Sub_metering_2)\nplotData$Sub_metering_3 <- as.numeric(plotData$Sub_metering_3)\n\n# Next handle date columns as well\nplotData$Orig_date <- plotData$Date\nplotData$Date <- as.Date(plotData$Date, format = \"%d/%m/%Y\")\nplotData$DateTime <- as.POSIXct(paste(as.character(plotData$Date), plotData$Time, sep=\" \"))\n\n\n## ----------------------------------- Step 03: Init Graphic Device  & Layout-----------------------------------\npng(plotFileName, width=480, height=480) #Create PNG with desired height & width (not 480x480 is default so did not need to specify)\n\npar(mfrow=c(2,2), margin=c(3, 3, 0, 0)) #2x2 display fill row first\n\n\n## ----------------------------------- Step 04-C: Generate SubPlots 1 & 2-----------------------------------\nplot(plotData$DateTime, plotData$Global_active_power, type=\"l\", \n     main=\"\",xlab=\"\", ylab=\"Global Active Power\")\n# Options used are lines (default black color)\n#     blank title, overridding default x/y-label\n#Note: To make code easier for multiple plot example: using default display of datetime as %a\n#     Plus mimicing desired result so no xlabel\n\nplot(plotData$DateTime, plotData$Voltage, type=\"l\", \n     main=\"\",xlab=\"datetime\", ylab=\"Voltage\" )\n# Options used are lines (default black color)\n#     blank title, overridding default x/y-label\n#     Plus set y range limits\n#Note: To make code easier for multiple plot example: using default dispaly of datetime as %a\n\n## ----------------------------------- Step 04-C: Generate Sub-Multi Plot 3-----------------------------------\n## In this example we will be sharing same plot for 3 graphs\n## To do so, need to set y-range fixed for each graph, so compute min/max\nymin <- min(plotData$Sub_metering_1, plotData$Sub_metering_2, plotData$Sub_metering_3)\nymax <- max(plotData$Sub_metering_1, plotData$Sub_metering_2, plotData$Sub_metering_3)\n\nplot(plotData$DateTime, plotData$Sub_metering_1, type=\"l\", \n     main=\"\",xlab=\"\", ylab=\"Energy sub metering\", ylim=c(ymin, ymax))\n# Options used are lines (default black color)\n#     blank title, overridding default x/y-label\n#     Plus set y range limits\n#Note: To make code easier for multiple plot example: using default dispaly of datetime as %a\n\n\n# Next we need to add additional plots - use par to suspend redrwaing plot\npar(new=TRUE)\nplot(plotData$Sub_metering_2, type=\"l\", col=\"red\",\n     main=\"\",xlab=\"\", ylab=\"\",  ylim=c(ymin, ymax), xaxt=\"n\", yaxt=\"n\")\n\npar(new=TRUE)\nplot(plotData$Sub_metering_3, type=\"l\", col=\"blue\",\n     main=\"\",xlab=\"\", ylab=\"\",  ylim=c(ymin, ymax), xaxt=\"n\", yaxt=\"n\")\n\n#set back to standrad value of false\npar(new=FALSE)\n\nlegend(\"topright\", \n       c(\"Sub_metering_1\",\"Sub_metering_2\",\"Sub_metering_3\"), \n       col=c(\"black\",\"red\",\"blue\"), lwd=1, bty=\"n\")\n#Note: need to include lwd since lines\n#     Also using bty =\"n\" to hide legend box\n\n## ----------------------------------- Step 04-C: Generate Final SubPlot-----------------------------------\nplot(plotData$DateTime, plotData$Global_reactive_power, type=\"l\", \n     main=\"\",xlab=\"datetime\", ylab=\"Global_reactive_power\")\n# Options used are lines (default black color)\n#     blank title, overridding default x/y-label\n#Note: To make code easier for multiple plot example: using default dispaly of datetime as %a\n\n\n## ----------------------------------- Step 05: Clean-Up -----------------------------------\ndev.off()   #close active graphic device pointing to png file\n\n",
    "created" : 1402259648641.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2890033373",
    "id" : "63812FB8",
    "lastKnownWriteTime" : 1402260486,
    "path" : "C:/SourceControl/Coursera/DataScienceTrack/ExploringData/CP1/ExData_Plotting1/plot4.R",
    "project_path" : "plot4.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}